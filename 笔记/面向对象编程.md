# 面向对象编程&&面向接口编程

### 1、面向对象四大特性

​	封装、抽象、继承、多态

#### 1.1、封装(Encapsulation)

​	封装也叫信息隐藏或者数据访问保护.类通过暴露有限的访问接口,授权外部仅能通过类提供的方式(或者叫函数)来访问内部信息或者数据.封装依赖访问权限控制这个语法机制提供的支持.

##### 封装的意义

​	若对类中属性访问不做限制,任何代码都能访问、修改类中的属性,看似灵,实则不可控,属性可以被散落在各处的代码随意修改,影响代码的可读性、可维护性.

​	暴露有限的方法给调用者,提高了类的易用性,调用者不用关心业务细节,只用关注该方法能做什么,用错的概率很小.

#### 1.2、抽象(Abstraction)

​	核心是隐藏方法的具体实现,让调用者只知道方法提供了哪些功能,不需要知道功能是如何实现的.常借助编程语言提供接口类或者抽象类这两种语法机制来实现抽象这一特性.

​	抽象并不是非得依赖接口类或者抽象类来实现.其实函数方法本身就是一种抽象,调用者在调用函数的时候,并不需要研究函数内部的实现逻辑,只需要知道它提供了什么功能就可以直接使用了.

#### 1.3、继承(Inheritedce)

​	继承用来表示类之间是is-a关系,为了实现继承这个特性,编程语言需要提供特殊的语法机制来支持,比如java使用extends关键字来实现继承.

##### 继承的意义

​	继承最大的好处是代码复用,两个类有一些相同的属性和方法,我们就可以考虑将相同的部分抽取到父类中,让子类继承父类.这样子类就能重用父类中的代码,避免相同的代码重复写多遍.但解决重复代码也不定通过继承来实现,利用组合关系同样能解决代码重复的问题,而且我们应当“多用组合少用继承”.

#### 1.4 多态 (Polymorphism)

​	多态是指子类可以替换父类,在实际代码运行中,调用子类的方法实现.多态这种特性也需要编程语言提供特殊的语法机制来实现.如:

- 支持父类对象可以引用子类对象
- 编程语言支持继承(接口或抽象类)
- 子类可以重写父类的方法

##### 多态的意义

​	多态可以提高代码的可扩展性和复用性.多态是很多设计模式、设计原则、编程技巧的代码实现基础.

### 2、面向接口编程

#### 2.1、面向接口编程的规范

- 函数名不能暴露任何实现细节,如uploadToAliyun()就是不符合规范,应该去掉Aliyun这样的字眼,改为更为抽象的命名方式
- 封装具体实现细节
- 为实现类定义抽象接口.使用者依赖接口,而不是具体的实现类

### 3、组合与继承

#### 3.1、为什么不推荐使用继承

​	继承可以解决重复代码的问题,但是继承层次过深、过复杂,会影响代码的可维护性.很多人觉得继承是一种反模式,应该尽量少使用,甚至不用.

#### 3.2、组合相比继承有什么优势?

​	在实际中,我们可以通过**组合、接口、委托**三个技术手段达到继承解决重复代码的问题,同时可以解决继承层次深、复杂的问题.

<img src="/Users/10023991/Library/Application Support/typora-user-images/image-20211209163054664.png" alt="image-20211209163054664" style="zoom: 50%;" />

#### 3.3、如何判断用组合还是继承?

​	我们鼓励多用组合少用继承,但组合也不是完美的,继承也并非一无是处.我们应该根据使用场景灵活判断使用组合还是继承.

​	当继承结构稳定、继承层次比较浅、继承关系不复杂时,我们可以大胆使用继承.反正使用组合.

​	有时A、B两个类有相同的属性和方法,但并不符合继承关系(不是父子亦不是兄弟),此时不能为了复用代码,强制使其具有继承关系,这个时候可以使用组合.

​	还有就是一个方法的入参不是接口类型而是类类型时,我们希望改变类运行时函数的实现逻辑,并且该类不是外部jar包中的类,我们无权修改这部分代码.此时我们只能通过继承重写该类的方法达到这个目的.



